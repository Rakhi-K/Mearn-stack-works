<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <h1>FETCH COUNTRIES</h1>
        <button onclick="fetchCountryName()" class="btn btn-success" > Fetch Country Name</button>

        <div id="result"></div>
    </div>


  
    <script>
        // ONLY COUNTRY NAME
        function fetchCountryName()
        {
              var request= new XMLHttpRequest();
              request.open("get","https://restcountries.com/v2/all");
              request.send();

              request.onreadystatechange=()=>
              {
                  if (request.readyState==4) 
                  {
                      if (request.status>199 && request.status<300) 
                      {
                        //   console.log(request.responseText);
                          let countryNames= JSON.parse(request.responseText);
                        //   populateValues(countryNames);       here fro function populate values

                           //   can give this way also-  for getting name in console

                           let html_data=``;
                          for(country of countryNames){             
                              let cname= country.name;
                              html_data+=`${cname}<br>`
                            
                          }
                          document.querySelector("#result").innerHTML=html_data;


                      }
                  }
                  else{
                      console.log("failed to load from server side");
                  }
                  

              }
        }
        //  function populateValues(countryNames)
        //  {
        //              let html_data=``;
        //              for(let nameonly of countryNames){
        //                  let cname= nameonly.name
        //                  html_data+= `<tr><td> ${cname}</td></tr>`
        //              }
                     

        //              document.querySelector("#result").innerHTML=html_data;
        //  }

    </script>
</body>
</html>


